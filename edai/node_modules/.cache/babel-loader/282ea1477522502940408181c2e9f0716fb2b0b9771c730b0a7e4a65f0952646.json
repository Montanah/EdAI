{"ast":null,"code":"import _slicedToArray from\"C:/Users/musim/Desktop/ALX/EdAI/edai/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function CountrySelect(_ref){var onCountryChange=_ref.onCountryChange,setGlobalCountryId=_ref.setGlobalCountryId;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),countryId=_useState2[0],setCountryId=_useState2[1];useEffect(function(){if(countryId){// Make the POST request for the selected country\nfetch('http://18.210.33.70/post/country',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({name:countryId})}).then(function(response){return response.json();}).then(function(data){// Assuming the response contains the newly created country object\nvar newCountry=data;// Trigger the onCountryChange callback with the new country\nonCountryChange(newCountry);}).catch(function(error){console.error('Error:',error);});}},[countryId,onCountryChange]);var handleCountryChange=function handleCountryChange(event){setCountryId(event.target.value);setGlobalCountryId(countryId);};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"select\",{value:countryId,onChange:handleCountryChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Country\"}),/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:\"Nigeria\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2\",children:\"Kenya\"}),/*#__PURE__*/_jsx(\"option\",{value:\"3\",children:\"South Africa\"})]})});}export default CountrySelect;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","CountrySelect","_ref","onCountryChange","setGlobalCountryId","_useState","_useState2","_slicedToArray","countryId","setCountryId","fetch","method","headers","body","JSON","stringify","name","then","response","json","data","newCountry","catch","error","console","handleCountryChange","event","target","value","children","onChange"],"sources":["C:/Users/musim/Desktop/ALX/EdAI/edai/src/components/CountrySelect.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\nfunction CountrySelect({ onCountryChange, setGlobalCountryId }) {\r\n    const [countryId, setCountryId] = useState('');\r\n  \r\n    useEffect(() => {\r\n      if (countryId) {\r\n        // Make the POST request for the selected country\r\n        fetch('http://18.210.33.70/post/country', {\r\n          method: 'POST',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n          },\r\n          body: JSON.stringify({ name: countryId }),\r\n        })\r\n          .then(response => response.json())\r\n          .then(data => {\r\n            // Assuming the response contains the newly created country object\r\n            const newCountry = data;\r\n            // Trigger the onCountryChange callback with the new country\r\n            onCountryChange(newCountry);\r\n          })\r\n          .catch(error => {\r\n            console.error('Error:', error);\r\n          });\r\n      }\r\n    }, [countryId, onCountryChange]);\r\n  \r\n    const handleCountryChange = (event) => {\r\n      setCountryId(event.target.value);\r\n      setGlobalCountryId(countryId)\r\n    };\r\n  \r\n    return (\r\n      <div>\r\n        <select value={countryId} onChange={handleCountryChange}>\r\n          <option value=\"\">Select Country</option>\r\n          <option value=\"1\">Nigeria</option>\r\n          <option value=\"2\">Kenya</option>\r\n          <option value=\"3\">South Africa</option>\r\n        </select>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  export default CountrySelect;"],"mappings":"0HAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEnD,QAAS,CAAAC,aAAaA,CAAAC,IAAA,CAA0C,IAAvC,CAAAC,eAAe,CAAAD,IAAA,CAAfC,eAAe,CAAEC,kBAAkB,CAAAF,IAAA,CAAlBE,kBAAkB,CACxD,IAAAC,SAAA,CAAkCV,QAAQ,CAAC,EAAE,CAAC,CAAAW,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAvCG,SAAS,CAAAF,UAAA,IAAEG,YAAY,CAAAH,UAAA,IAE9BV,SAAS,CAAC,UAAM,CACd,GAAIY,SAAS,CAAE,CACb;AACAE,KAAK,CAAC,kCAAkC,CAAE,CACxCC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEC,IAAI,CAAER,SAAU,CAAC,CAC1C,CAAC,CAAC,CACCS,IAAI,CAAC,SAAAC,QAAQ,QAAI,CAAAA,QAAQ,CAACC,IAAI,CAAC,CAAC,GAAC,CACjCF,IAAI,CAAC,SAAAG,IAAI,CAAI,CACZ;AACA,GAAM,CAAAC,UAAU,CAAGD,IAAI,CACvB;AACAjB,eAAe,CAACkB,UAAU,CAAC,CAC7B,CAAC,CAAC,CACDC,KAAK,CAAC,SAAAC,KAAK,CAAI,CACdC,OAAO,CAACD,KAAK,CAAC,QAAQ,CAAEA,KAAK,CAAC,CAChC,CAAC,CAAC,CACN,CACF,CAAC,CAAE,CAACf,SAAS,CAAEL,eAAe,CAAC,CAAC,CAEhC,GAAM,CAAAsB,mBAAmB,CAAG,QAAtB,CAAAA,mBAAmBA,CAAIC,KAAK,CAAK,CACrCjB,YAAY,CAACiB,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,CAChCxB,kBAAkB,CAACI,SAAS,CAAC,CAC/B,CAAC,CAED,mBACEV,IAAA,QAAA+B,QAAA,cACE7B,KAAA,WAAQ4B,KAAK,CAAEpB,SAAU,CAACsB,QAAQ,CAAEL,mBAAoB,CAAAI,QAAA,eACtD/B,IAAA,WAAQ8B,KAAK,CAAC,EAAE,CAAAC,QAAA,CAAC,gBAAc,CAAQ,CAAC,cACxC/B,IAAA,WAAQ8B,KAAK,CAAC,GAAG,CAAAC,QAAA,CAAC,SAAO,CAAQ,CAAC,cAClC/B,IAAA,WAAQ8B,KAAK,CAAC,GAAG,CAAAC,QAAA,CAAC,OAAK,CAAQ,CAAC,cAChC/B,IAAA,WAAQ8B,KAAK,CAAC,GAAG,CAAAC,QAAA,CAAC,cAAY,CAAQ,CAAC,EACjC,CAAC,CACN,CAAC,CAEV,CAEA,cAAe,CAAA5B,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}