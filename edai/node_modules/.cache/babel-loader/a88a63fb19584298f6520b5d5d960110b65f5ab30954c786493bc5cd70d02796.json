{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/musim/Desktop/ALX/EdAI/edai/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/musim/Desktop/ALX/EdAI/edai/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/musim/Desktop/ALX/EdAI/edai/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import sendSvg from'../send-svg.png';import audioSvg from'../audio-svg.png';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ChatWindow(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isTyping=_useState2[0],setIsTyping=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),userInput=_useState4[0],setUserInput=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),feedback=_useState6[0],setFeedback=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isLoading=_useState8[0],setIsLoading=_useState8[1];var handleTyping=function handleTyping(){setIsTyping(true);};var handleBlur=function handleBlur(){setIsTyping(false);};var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data,apiFeedback;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(userInput.trim()){_context.next=2;break;}return _context.abrupt(\"return\");case 2:_context.prev=2;setIsLoading(true);// Make the API request\n_context.next=6;return fetch('/api/chatbot/<str:prompt>',{method:'POST',body:JSON.stringify({request:userInput}),headers:{'Content-Type':'application/json'}});case 6:response=_context.sent;if(!response.ok){_context.next=16;break;}_context.next=10;return response.json();case 10:data=_context.sent;apiFeedback=data.feedback;setFeedback(apiFeedback);setUserInput('');// Clear the input field\n_context.next=17;break;case 16:console.error('API request failed:',response.status);case 17:_context.next=22;break;case 19:_context.prev=19;_context.t0=_context[\"catch\"](2);console.error('Error:',_context.t0);case 22:_context.prev=22;setIsLoading(false);return _context.finish(22);case 25:case\"end\":return _context.stop();}},_callee,null,[[2,19,22,25]]);}));return function handleSubmit(){return _ref.apply(this,arguments);};}();var getWindowStyle=function getWindowStyle(){if(isLoading){return{height:'auto',maxHeight:'100px'};}if(isTyping){return{width:'40%',height:'200px'};}else{return{width:'20%px',height:'50px'};}};var chatbotContent=function chatbotContent(){if(isLoading){return{display:'',justifyContent:'space-between',alignItems:'center',padding:'0 10px',overflowY:'auto',zIndex:'40'};}return{display:'flex',justifyContent:'space-between',alignItems:'center',height:'100%',padding:'0 10px',overflowY:'auto',zIndex:'40'};};return/*#__PURE__*/_jsx(\"div\",{className:\"chatbot-window\",style:getWindowStyle(),children:/*#__PURE__*/_jsxs(\"div\",{style:chatbotContent(),className:\"chatbot-content-old\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"chatbot-input\",placeholder:\"Type here or press and hold the mic button to speak to me ;-)\",value:userInput,onChange:function onChange(e){return setUserInput(e.target.value);},onFocus:handleTyping,onBlur:handleBlur,disabled:isLoading}),/*#__PURE__*/_jsx(\"button\",{className:\"chatbot-options\",id:\"typing-option\",onClick:handleSubmit,disabled:isLoading,children:/*#__PURE__*/_jsx(\"img\",{className:\"button-img\",src:sendSvg,alt:\"Send Icon\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"chatbot-options\",id:\"audio-option\",disabled:isLoading,children:/*#__PURE__*/_jsx(\"img\",{className:\"button-img\",src:audioSvg,alt:\"Audio Icon\"})}),/*#__PURE__*/_jsx(\"br\",{}),isLoading?/*#__PURE__*/_jsx(\"p\",{style:{display:'block'},className:\"chatbot-feedback\",children:\"Loading...\"}):/*#__PURE__*/_jsx(\"p\",{className:\"chatbot-feedback\",children:feedback})]})});}export default ChatWindow;","map":{"version":3,"names":["React","useState","sendSvg","audioSvg","jsx","_jsx","jsxs","_jsxs","ChatWindow","_useState","_useState2","_slicedToArray","isTyping","setIsTyping","_useState3","_useState4","userInput","setUserInput","_useState5","_useState6","feedback","setFeedback","_useState7","_useState8","isLoading","setIsLoading","handleTyping","handleBlur","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","data","apiFeedback","wrap","_callee$","_context","prev","next","trim","abrupt","fetch","method","body","JSON","stringify","request","headers","sent","ok","json","console","error","status","t0","finish","stop","apply","arguments","getWindowStyle","height","maxHeight","width","chatbotContent","display","justifyContent","alignItems","padding","overflowY","zIndex","className","style","children","type","placeholder","value","onChange","e","target","onFocus","onBlur","disabled","id","onClick","src","alt"],"sources":["C:/Users/musim/Desktop/ALX/EdAI/edai/src/components/ChatWindow.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport sendSvg from '../send-svg.png';\r\nimport audioSvg from '../audio-svg.png';\r\n\r\nfunction ChatWindow() {\r\n    const [isTyping, setIsTyping] = useState(false);\r\n    const [userInput, setUserInput] = useState('');\r\n    const [feedback, setFeedback] = useState('');\r\n    const [isLoading, setIsLoading] = useState(false);\r\n  \r\n    const handleTyping = () => {\r\n      setIsTyping(true);\r\n    };\r\n  \r\n    const handleBlur = () => {\r\n      setIsTyping(false);\r\n    };\r\n  \r\n    const handleSubmit = async () => {\r\n      if (!userInput.trim()) {\r\n        return; // Don't submit if user input is empty or only whitespace\r\n      }\r\n  \r\n      try {\r\n        setIsLoading(true);\r\n  \r\n        // Make the API request\r\n        const response = await fetch('/api/chatbot/<str:prompt>', {\r\n          method: 'POST',\r\n          body: JSON.stringify({ request: userInput }),\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n          },\r\n        });\r\n  \r\n        // Check if the request was successful\r\n        if (response.ok) {\r\n          const data = await response.json();\r\n          const apiFeedback = data.feedback;\r\n  \r\n          setFeedback(apiFeedback);\r\n          setUserInput(''); // Clear the input field\r\n        } else {\r\n          console.error('API request failed:', response.status);\r\n        }\r\n      } catch (error) {\r\n        console.error('Error:', error);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n  \r\n    const getWindowStyle = () => {\r\n      if (isLoading) {\r\n        return {\r\n          height: 'auto',\r\n          maxHeight: '100px'\r\n        }\r\n      }\r\n      if (isTyping) {\r\n        return {\r\n          width: '40%',\r\n          height: '200px',\r\n        };\r\n      } else {\r\n        return {\r\n          width: '20%px',\r\n          height: '50px',\r\n        };\r\n      }\r\n    };\r\n\r\n    const chatbotContent = () => {\r\n      if (isLoading) {\r\n        return {\r\n          display: '',\r\n          justifyContent: 'space-between',\r\n          alignItems: 'center',\r\n          padding: '0 10px',\r\n          overflowY: 'auto',\r\n          zIndex: '40',\r\n        }\r\n      }\r\n      return {\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        alignItems: 'center',\r\n        height: '100%',\r\n        padding: '0 10px',\r\n        overflowY: 'auto',\r\n        zIndex: '40',\r\n      }\r\n    }\r\n  \r\n    return (\r\n      <div className=\"chatbot-window\" style={getWindowStyle()}>\r\n        <div style={chatbotContent()} className=\"chatbot-content-old\">\r\n          <input\r\n            type=\"text\"\r\n            className=\"chatbot-input\"\r\n            placeholder=\"Type here or press and hold the mic button to speak to me ;-)\"\r\n            value={userInput}\r\n            onChange={(e) => setUserInput(e.target.value)}\r\n            onFocus={handleTyping}\r\n            onBlur={handleBlur}\r\n            disabled={isLoading}\r\n          />\r\n          <button className=\"chatbot-options\" id=\"typing-option\" onClick={handleSubmit} disabled={isLoading}>\r\n            <img className='button-img' src={sendSvg} alt='Send Icon'/>\r\n          </button>\r\n          <button className=\"chatbot-options\" id=\"audio-option\" disabled={isLoading}>\r\n            <img className='button-img' src={audioSvg} alt='Audio Icon'/>\r\n          </button>\r\n          <br/>\r\n          {isLoading ? (\r\n            <p style={{display: 'block'}} className=\"chatbot-feedback\">Loading...</p>\r\n          ) : (\r\n            <p className=\"chatbot-feedback\">{feedback}</p>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\nexport default ChatWindow;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}