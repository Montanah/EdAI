{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/musim/Desktop/ALX/EdAI/edai/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/musim/Desktop/ALX/EdAI/edai/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/musim/Desktop/ALX/EdAI/edai/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useEffect,useState}from'react';import{UserContext}from'../UserContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Profile=function Profile(){var _useContext=useContext(UserContext),user=_useContext.user,isLoggedIn=_useContext.isLoggedIn;var _useState=useState(true),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];useEffect(function(){// Perform the API request to fetch user data based on the given ID\nvar fetchUserData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;if(!(user&&user.id)){_context.next=8;break;}_context.next=4;return fetch(\"http://18.210.33.70/profile/\".concat(user.id));case 4:response=_context.sent;_context.next=7;return response.json();case 7:data=_context.sent;case 8:_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.log('Error fetching user data:',_context.t0);case 13:_context.prev=13;setIsLoading(false);return _context.finish(13);case 16:case\"end\":return _context.stop();}},_callee,null,[[0,10,13,16]]);}));return function fetchUserData(){return _ref.apply(this,arguments);};}();if(isLoggedIn){fetchUserData();}},[isLoggedIn,user]);return/*#__PURE__*/_jsx(\"nav\",{children:isLoading?/*#__PURE__*/_jsx(\"span\",{children:\"Loading...\"}):isLoggedIn?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Welcome, \",user===null||user===void 0?void 0:user.firstname,\" \",user===null||user===void 0?void 0:user.lastname,\"!\"]}),/*#__PURE__*/_jsx(\"img\",{src:user.avatar,alt:\"Profile Avatar\"}),/*#__PURE__*/_jsx(\"progress\",{value:user===null||user===void 0?void 0:user.progress,max:\"100\"})]}):/*#__PURE__*/_jsx(\"span\",{children:\"Please log in to view your profile.\"})});};export default Profile;","map":{"version":3,"names":["React","useContext","useEffect","useState","UserContext","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Profile","_useContext","user","isLoggedIn","_useState","_useState2","_slicedToArray","isLoading","setIsLoading","fetchUserData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","data","wrap","_callee$","_context","prev","next","id","fetch","concat","sent","json","t0","console","log","finish","stop","apply","arguments","children","firstname","lastname","src","avatar","alt","value","progress","max"],"sources":["C:/Users/musim/Desktop/ALX/EdAI/edai/src/components/Profile.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\r\nimport { UserContext } from '../UserContext';\r\n\r\nconst Profile = () => {\r\n    const { user, isLoggedIn } = useContext(UserContext);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n  \r\n    useEffect(() => {\r\n      // Perform the API request to fetch user data based on the given ID\r\n      const fetchUserData = async () => {\r\n        try {\r\n          if (user && user.id) {\r\n            const response = await fetch(`http://18.210.33.70/profile/${user.id}`);\r\n            const data = await response.json();\r\n            // Update the user context with the fetched user data\r\n            //setUser(data);\r\n          }\r\n        } catch (error) {\r\n          console.log('Error fetching user data:', error);\r\n        } finally {\r\n          setIsLoading(false);\r\n        }\r\n      };\r\n  \r\n      if (isLoggedIn) {\r\n        fetchUserData();\r\n      }\r\n    }, [isLoggedIn, user]);\r\n  \r\n    return (\r\n      <nav>\r\n        {isLoading ? (\r\n          <span>Loading...</span>\r\n        ) : isLoggedIn ? (\r\n          <>\r\n            <span>Welcome, {user?.firstname} {user?.lastname}!</span>\r\n            <img src={user.avatar} alt=\"Profile Avatar\" />\r\n            <progress value={user?.progress} max=\"100\" />\r\n          </>\r\n        ) : (\r\n          <span>Please log in to view your profile.</span>\r\n        )}\r\n      </nav>\r\n    );\r\n  };\r\n\r\n    export default Profile;"],"mappings":"8XAAA,MAAO,CAAAA,KAAK,EAAIC,UAAU,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC9D,OAASC,WAAW,KAAQ,gBAAgB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAE7C,GAAM,CAAAC,OAAO,CAAG,QAAV,CAAAA,OAAOA,CAAA,CAAS,CAClB,IAAAC,WAAA,CAA6BX,UAAU,CAACG,WAAW,CAAC,CAA5CS,IAAI,CAAAD,WAAA,CAAJC,IAAI,CAAEC,UAAU,CAAAF,WAAA,CAAVE,UAAU,CACxB,IAAAC,SAAA,CAAkCZ,QAAQ,CAAC,IAAI,CAAC,CAAAa,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAzCG,SAAS,CAAAF,UAAA,IAAEG,YAAY,CAAAH,UAAA,IAE9Bd,SAAS,CAAC,UAAM,CACd;AACA,GAAM,CAAAkB,aAAa,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,QAAA,CAAAC,IAAA,QAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,QAEdlB,IAAI,EAAIA,IAAI,CAACoB,EAAE,GAAAH,QAAA,CAAAE,IAAA,UAAAF,QAAA,CAAAE,IAAA,SACM,CAAAE,KAAK,gCAAAC,MAAA,CAAgCtB,IAAI,CAACoB,EAAE,CAAE,CAAC,QAAhEP,QAAQ,CAAAI,QAAA,CAAAM,IAAA,CAAAN,QAAA,CAAAE,IAAA,SACK,CAAAN,QAAQ,CAACW,IAAI,CAAC,CAAC,QAA5BV,IAAI,CAAAG,QAAA,CAAAM,IAAA,QAAAN,QAAA,CAAAE,IAAA,kBAAAF,QAAA,CAAAC,IAAA,IAAAD,QAAA,CAAAQ,EAAA,CAAAR,QAAA,aAKZS,OAAO,CAACC,GAAG,CAAC,2BAA2B,CAAAV,QAAA,CAAAQ,EAAO,CAAC,CAAC,QAAAR,QAAA,CAAAC,IAAA,IAEhDZ,YAAY,CAAC,KAAK,CAAC,CAAC,OAAAW,QAAA,CAAAW,MAAA,8BAAAX,QAAA,CAAAY,IAAA,MAAAjB,OAAA,uBAEvB,kBAbK,CAAAL,aAAaA,CAAA,SAAAC,IAAA,CAAAsB,KAAA,MAAAC,SAAA,OAalB,CAED,GAAI9B,UAAU,CAAE,CACdM,aAAa,CAAC,CAAC,CACjB,CACF,CAAC,CAAE,CAACN,UAAU,CAAED,IAAI,CAAC,CAAC,CAEtB,mBACEP,IAAA,QAAAuC,QAAA,CACG3B,SAAS,cACRZ,IAAA,SAAAuC,QAAA,CAAM,YAAU,CAAM,CAAC,CACrB/B,UAAU,cACZN,KAAA,CAAAE,SAAA,EAAAmC,QAAA,eACErC,KAAA,SAAAqC,QAAA,EAAM,WAAS,CAAChC,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEiC,SAAS,CAAC,GAAC,CAACjC,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEkC,QAAQ,CAAC,GAAC,EAAM,CAAC,cACzDzC,IAAA,QAAK0C,GAAG,CAAEnC,IAAI,CAACoC,MAAO,CAACC,GAAG,CAAC,gBAAgB,CAAE,CAAC,cAC9C5C,IAAA,aAAU6C,KAAK,CAAEtC,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEuC,QAAS,CAACC,GAAG,CAAC,KAAK,CAAE,CAAC,EAC7C,CAAC,cAEH/C,IAAA,SAAAuC,QAAA,CAAM,qCAAmC,CAAM,CAChD,CACE,CAAC,CAEV,CAAC,CAEC,cAAe,CAAAlC,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}